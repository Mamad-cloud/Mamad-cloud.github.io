{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _objectSpread from\"/home/mamad/paractice/react/burger-builder-1.0/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"/home/mamad/paractice/react/burger-builder-1.0/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/mamad/paractice/react/burger-builder-1.0/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/mamad/paractice/react/burger-builder-1.0/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/mamad/paractice/react/burger-builder-1.0/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import BuildControls from'../../Components/Burger/BuildControls/BuildControls';import OrderSummary from'../../Components/Burger/OrderSummary/OrderSummary';import Modal from'../../Components/UI/Modal/Modal';import Aux from'../../hoc/Aux/Aux';import Burger from'./../../Components/Burger/Burger';var INGGREDIENT_PRICES={salad:1.3,bacon:0.9,cheese:0.3,meat:2.6};var BurgerBuilder=/*#__PURE__*/function(_Component){_inherits(BurgerBuilder,_Component);var _super=_createSuper(BurgerBuilder);function BurgerBuilder(props){var _this;_classCallCheck(this,BurgerBuilder);_this=_super.call(this,props);//console.log('[BurgerBuilder.js] -> constructor() - 1');\n_this.updatePurchaseState=function(_ingredients){var sum=Object.keys(_ingredients).map(function(igrKey){return _ingredients[igrKey];}).reduce(function(prevEl,currEl){return prevEl+currEl;},0);_this.setState({purchasable:sum>0});};_this.addIngredientHandler=function(type){var ingredients=_objectSpread({},_this.state.ingredients);ingredients[type]+=1;//#region other soulution\n//const updatedIngredients = {...Ingredients};\n// const oldCount = this.state.ingredients[type];\n// const updatedCount = oldCount + 1;\n// const updatedIngredients = {...this.state.ingredients};\n// updatedIngredients[type] = updatedCount;\n//#endregion\nvar priceAddition=INGGREDIENT_PRICES[type];var totalPrice=_this.state.burgerPrice+priceAddition;_this.setState({ingredients:ingredients,burgerPrice:totalPrice});_this.updatePurchaseState(ingredients);};_this.removeIngredientHandler=function(type){var ingredients=_objectSpread({},_this.state.ingredients);var totalPrice=_this.state.burgerPrice;var subtractedPrice=INGGREDIENT_PRICES[type];if(ingredients[type]>0){ingredients[type]-=1;totalPrice-=subtractedPrice;}else{ingredients[type]=0;}// ingredients[type] > 0 ? ingredients[type] -= 1 : ingredients[type] = 0;\n// const subtractedPrice = INGGREDIENT_PRICES[type];\n// const totalPrice = this.state.burgerPrice - subtractedPrice;\n_this.setState({ingredients:ingredients,burgerPrice:totalPrice});_this.updatePurchaseState(ingredients);};_this.showModalHandler=function(){// this.setState((prevState, props) => {\n//     if(prevState.showModal) {\n//         return {showModal: false}\n//     } else {\n//         return {showModal: true}\n//     }\n// })\n_this.setState({showModal:true});//this.setState({ showModal: true });\n};_this.modalCloseHandler=function(){_this.setState({showModal:false});};_this.purchaseContinueHandler=function(){alert('You Continue!!');};_this.state={ingredients:{salad:0,bacon:0,cheese:0,meat:0},burgerPrice:3,purchasable:false,showModal:false};return _this;}_createClass(BurgerBuilder,[{key:\"render\",//#endregion\nvalue:function render(){//console.log('[BurgerBuilder.js] -> render() - 2');\nvar disabledInfo=_objectSpread({},this.state.ingredients);for(var key in disabledInfo){if(disabledInfo[key]<=0){disabledInfo[key]=true;}else{disabledInfo[key]=false;}}// const _ingredeinets = {...this.state.ingredients};\n// const purchasableInfo = Object.keys(_ingredeinets).map((igrKey) => {\n//     return _ingredeinets[igrKey];\n// }).reduce((prevEl, currEl) => {\n//     return prevEl + currEl;\n// }, 0);\n// console.log(purchasableInfo);\nreturn/*#__PURE__*/_jsxs(Aux,{children:[/*#__PURE__*/_jsx(Modal,{show:this.state.showModal,modalClosed:this.modalCloseHandler,children:/*#__PURE__*/_jsx(OrderSummary,{purchaseCancelled:this.modalCloseHandler,purchaseContinued:this.purchaseContinueHandler,price:this.state.burgerPrice,ingredients:this.state.ingredients})}),/*#__PURE__*/_jsx(Burger,{ingredients:this.state.ingredients}),/*#__PURE__*/_jsx(BuildControls,{removeIngredient:this.removeIngredientHandler,addIngredient:this.addIngredientHandler,disabledInfo:disabledInfo,price:this.state.burgerPrice,purchasableInfo:this.state.purchasable,showModal:this.showModalHandler})]});}},{key:\"componentDidMount\",value:function componentDidMount(){//console.log('[BurgerBuilder.js] -> componentDidMount() - 3');\n}},{key:\"shouldComponentUpdate\",value:function shouldComponentUpdate(prevProps,prevState){//console.log('[BurgerBuilder.js] shouldComponentUpdate()');\n//console.log(prevProps);\nreturn true;}}]);return BurgerBuilder;}(Component);export default BurgerBuilder;","map":{"version":3,"sources":["/home/mamad/paractice/react/burger-builder-1.0/src/Containers/BurgerBuilder/BurgerBuilder.js"],"names":["React","Component","BuildControls","OrderSummary","Modal","Aux","Burger","INGGREDIENT_PRICES","salad","bacon","cheese","meat","BurgerBuilder","props","updatePurchaseState","_ingredients","sum","Object","keys","map","igrKey","reduce","prevEl","currEl","setState","purchasable","addIngredientHandler","type","ingredients","state","priceAddition","totalPrice","burgerPrice","removeIngredientHandler","subtractedPrice","showModalHandler","showModal","modalCloseHandler","purchaseContinueHandler","alert","disabledInfo","key","prevProps","prevState"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport BuildControls from '../../Components/Burger/BuildControls/BuildControls';\nimport OrderSummary from '../../Components/Burger/OrderSummary/OrderSummary';\nimport Modal from '../../Components/UI/Modal/Modal';\nimport Aux from '../../hoc/Aux/Aux';\nimport Burger from './../../Components/Burger/Burger';\n\nconst INGGREDIENT_PRICES = {\n    salad: 1.3,\n    bacon: 0.9,\n    cheese: 0.3,\n    meat: 2.6,\n}\n\nclass BurgerBuilder extends Component {\n\n    constructor(props) {\n        super(props);\n        //console.log('[BurgerBuilder.js] -> constructor() - 1');\n\n        this.state = {\n            ingredients: {\n\n                salad: 0,\n                bacon: 0,\n                cheese: 0,\n                meat : 0,\n                \n            },\n            burgerPrice: 3,\n            purchasable: false,\n            showModal: false,\n        }\n    }\n\n    updatePurchaseState = (_ingredients) => {\n        \n        const sum = Object.keys(_ingredients).map((igrKey) => {\n            return _ingredients[igrKey];\n        }).reduce((prevEl, currEl) => {\n            return prevEl + currEl;\n        }, 0);\n        this.setState({purchasable: sum > 0});\n\n    }\n\n    //#region event Handlers\n\n    addIngredientHandler = (type) => {\n        const ingredients = {...this.state.ingredients};\n        ingredients[type] += 1;\n        //#region other soulution\n\n        //const updatedIngredients = {...Ingredients};\n        // const oldCount = this.state.ingredients[type];\n        // const updatedCount = oldCount + 1;\n        // const updatedIngredients = {...this.state.ingredients};\n        // updatedIngredients[type] = updatedCount;\n        //#endregion\n        const priceAddition = INGGREDIENT_PRICES[type];\n        const totalPrice = this.state.burgerPrice + priceAddition;\n        this.setState({ ingredients: ingredients, burgerPrice: totalPrice });\n        this.updatePurchaseState(ingredients);\n\n    }\n\n\n    removeIngredientHandler = (type) => {\n        const ingredients = {...this.state.ingredients};\n        let totalPrice = this.state.burgerPrice;\n        const subtractedPrice = INGGREDIENT_PRICES[type];\n        if (ingredients[type] > 0 ) {\n            ingredients[type] -= 1;\n            totalPrice -= subtractedPrice;\n        } else {\n            ingredients[type] = 0;\n        }\n        // ingredients[type] > 0 ? ingredients[type] -= 1 : ingredients[type] = 0;\n        // const subtractedPrice = INGGREDIENT_PRICES[type];\n        // const totalPrice = this.state.burgerPrice - subtractedPrice;\n        this.setState({ingredients: ingredients, burgerPrice: totalPrice});\n        this.updatePurchaseState(ingredients);\n\n    }\n\n    showModalHandler = () => {\n      // this.setState((prevState, props) => {\n      //     if(prevState.showModal) {\n      //         return {showModal: false}\n      //     } else {\n      //         return {showModal: true}\n      //     }\n      // })\n\n      this.setState({ showModal: true });\n      //this.setState({ showModal: true });\n\n    }\n\n    modalCloseHandler = () => {\n        this.setState({showModal: false});\n    }\n\n    purchaseContinueHandler = () => {\n        alert('You Continue!!');\n    }\n\n    //#endregion\n\n    render() {\n        //console.log('[BurgerBuilder.js] -> render() - 2');\n\n        const disabledInfo = {...this.state.ingredients};\n        for(let key in disabledInfo) {\n            if(disabledInfo[key] <= 0) {\n                disabledInfo[key] = true;\n            } else {\n                disabledInfo[key] = false;\n            }\n        }\n\n        // const _ingredeinets = {...this.state.ingredients};\n        \n        // const purchasableInfo = Object.keys(_ingredeinets).map((igrKey) => {\n        //     return _ingredeinets[igrKey];\n        // }).reduce((prevEl, currEl) => {\n        //     return prevEl + currEl;\n        // }, 0);\n        // console.log(purchasableInfo);\n\n        return (\n          <Aux>\n            {/* {this.state.showModal ? (\n              <Modal>\n                <OrderSummary price={this.state.burgerPrice} ingredients={this.state.ingredients} />\n              </Modal>\n            ) : null}*/}\n            <Modal show={this.state.showModal} modalClosed={this.modalCloseHandler}>\n              <OrderSummary\n                purchaseCancelled={this.modalCloseHandler}\n                purchaseContinued={this.purchaseContinueHandler}\n                price={this.state.burgerPrice}\n                ingredients={this.state.ingredients}\n              />\n            </Modal>\n            <Burger ingredients={this.state.ingredients} />\n            <BuildControls\n              removeIngredient={this.removeIngredientHandler}\n              addIngredient={this.addIngredientHandler}\n              disabledInfo={disabledInfo}\n              price={this.state.burgerPrice}\n              purchasableInfo={this.state.purchasable}\n              showModal={this.showModalHandler}\n            />\n          </Aux>\n        );\n    }\n\n    componentDidMount() {\n        //console.log('[BurgerBuilder.js] -> componentDidMount() - 3');\n    }\n\n    shouldComponentUpdate(prevProps, prevState) {\n        //console.log('[BurgerBuilder.js] shouldComponentUpdate()');\n        //console.log(prevProps);\n        return true;\n    }\n}\n\nexport default BurgerBuilder;"]},"metadata":{},"sourceType":"module"}